import{g as He}from"https://app.gitbook.com/public/app/chunks/chunk-M64GIA4V.min.js";import{c as S}from"https://app.gitbook.com/public/app/chunks/chunk-ITXRCUXO.min.js";import{E as de,H as ke,I as Pe,L as Ge,d as Te,j as he,q as Ee,t as fe}from"https://app.gitbook.com/public/app/chunks/chunk-TI5JEI7I.min.js";import{$b as Oe,Ia as re,Pa as oe,Qb as _,Rb as se,ab as xe,ic as Me}from"https://app.gitbook.com/public/app/chunks/chunk-4WQJWWQB.min.js";import{aa as ne,ma as y,p as j}from"https://app.gitbook.com/public/app/chunks/chunk-A6UFY6RP.min.js";import{b as ve}from"https://app.gitbook.com/public/app/chunks/chunk-YPOOS4GR.min.js";import{e as W,l as p}from"https://app.gitbook.com/public/app/chunks/chunk-OAKVUAEN.min.js";p();var d=W(j());p();var We=W(j()),ce=0;function je(e=!0){We.useEffect(()=>{if(!e)return;let r=document.documentElement;if(ce===0){let t=window.innerWidth-r.clientWidth;r.style.overflow="hidden",r.style.paddingRight=`${t}px`}return ce+=1,()=>{ce-=1,ce===0&&(r.style.overflow="auto",r.style.paddingRight="0px")}},[e])}p();var B=JSON.parse('{"backdrop":"backdrop_M-DLi","searchModal":"searchModal_Vcy-I","searchModalHeader":"searchModalHeader_XHNRd","searchModalHeaderIcon":"searchModalHeaderIcon_Q-OxP","searchInput":"searchInput_TEvvq","searchModalBody":"searchModalBody_kS0BP"}');p();var F=W(j()),Le=F.default.createContext(F.default.createRef());function ht(e){let{children:r}=e,t=F.default.useRef(!1);return F.default.useEffect(()=>{let o=()=>{t.current=!0,document.removeEventListener("keydown",o),document.addEventListener("mousedown",s,{capture:!0})},s=()=>{t.current=!1,document.removeEventListener("mousedown",s),document.addEventListener("keydown",o,{capture:!0})};return document.addEventListener("mousedown",s,{capture:!0}),document.addEventListener("keydown",o,{capture:!0}),()=>{document.removeEventListener("keydown",o),document.removeEventListener("mousedown",s)}},[]),F.default.createElement(Le.Provider,{value:t},r)}function Ae(){return F.default.useContext(Le)}p();var De=W(j());function Ve(){return navigator.maxTouchPoints>0}var me=typeof window>"u"?void 0:Ve();function _e(){return typeof me>"u"&&(me=Ve()),De.useRef(me||!1)}var Et=d.forwardRef(function(r,t){let{onClose:o}=r,s=d.useRef(null);return Ge({opened:!0,closeOnEsc:!0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:o},s),je(),d.createElement(Pe,{ref:s},d.createElement(Ye,{ref:t,...r}))}),Ye=d.forwardRef(function(r,t){let{query:o,onQueryChange:s,onSubmitQuery:n,queryPlaceholder:c="Search\u2026",onClose:i,children:a,footer:g,inputIcon:m,leftButton:b,rightButton:G}=r,w=d.useRef(null),h=Ee("OUTSIDE_CLICK"),E=fe({mount:y.animations.fadeIn,unmount:y.animations.fadeOut}),f=fe({mount:y.animations.popIn,unmount:y.animations.popOut});return d.useImperativeHandle(t,()=>({focus:()=>{var l;(l=w.current)==null||l.focus()},select:()=>{var l;(l=w.current)==null||l.select()}})),d.useEffect(()=>{var l;(l=w.current)==null||l.select()},[]),d.createElement(S,{ref:E,style:B.backdrop,onClick:()=>{h&&i()}},d.createElement(S,{ref:f,style:B.searchModal,onClick:l=>{l.stopPropagation()}},d.createElement(S,{style:[B.searchModalHeader]},b,m?d.createElement(S,null,d.createElement(m,{style:[B.searchModalHeaderIcon]})):null,d.createElement(S,{style:[y.flex.flex1,y.flex.row]},d.createElement(S,{ref:w,as:"input",value:o,placeholder:c,onChange:l=>{s(l.currentTarget.value)},onKeyDown:l=>{l.key==="Enter"&&(n==null||n(o))},style:[B.searchInput,y.flex.flex1]})),G),d.createElement(S,{style:[B.searchModalBody]},d.createElement(d.Suspense,{fallback:d.createElement(ke,{size:"large"})},a)),g||null))});p();var x=W(j());p();p();var Be=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Fe=(e,r)=>(!r||e!=="hidden")&&e!=="visible"&&e!=="clip",ge=(e,r)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let t=getComputedStyle(e,null);return Fe(t.overflowY,r)||Fe(t.overflowX,r)||(o=>{let s=(n=>{if(!n.ownerDocument||!n.ownerDocument.defaultView)return null;try{return n.ownerDocument.defaultView.frameElement}catch(c){return null}})(o);return!!s&&(s.clientHeight<o.scrollHeight||s.clientWidth<o.scrollWidth)})(e)}return!1},ae=(e,r,t,o,s,n,c,i)=>n<e&&c>r||n>e&&c<r?0:n<=e&&i<=t||c>=r&&i>=t?n-e-o:c>r&&i<t||n<e&&i>t?c-r+s:0,Ze=e=>{let r=e.parentElement;return r==null?e.getRootNode().host||null:r},Re=(e,r)=>{var t,o,s,n;if(typeof document>"u")return[];let{scrollMode:c,block:i,inline:a,boundary:g,skipOverflowHiddenElements:m}=r,b=typeof g=="function"?g:K=>K!==g;if(!Be(e))throw new TypeError("Invalid target");let G=document.scrollingElement||document.documentElement,w=[],h=e;for(;Be(h)&&b(h);){if(h=Ze(h),h===G){w.push(h);break}h!=null&&h===document.body&&ge(h)&&!ge(document.documentElement)||h!=null&&ge(h,m)&&w.push(h)}let E=(o=(t=window.visualViewport)==null?void 0:t.width)!=null?o:innerWidth,f=(n=(s=window.visualViewport)==null?void 0:s.height)!=null?n:innerHeight,{scrollX:l,scrollY:k}=window,{height:P,width:R,top:u,right:L,bottom:T,left:A}=e.getBoundingClientRect(),O=i==="start"||i==="nearest"?u:i==="end"?T:u+P/2,M=a==="center"?A+R/2:a==="end"?L:A,le=[];for(let K=0;K<w.length;K++){let C=w[K],{height:z,width:U,top:$,right:ue,bottom:pe,left:q}=C.getBoundingClientRect();if(c==="if-needed"&&u>=0&&A>=0&&T<=f&&L<=E&&u>=$&&T<=pe&&A>=q&&L<=ue)return le;let X=getComputedStyle(C),J=parseInt(X.borderLeftWidth,10),Q=parseInt(X.borderTopWidth,10),Y=parseInt(X.borderRightWidth,10),Z=parseInt(X.borderBottomWidth,10),D=0,V=0,ee="offsetWidth"in C?C.offsetWidth-C.clientWidth-J-Y:0,te="offsetHeight"in C?C.offsetHeight-C.clientHeight-Q-Z:0,Ie="offsetWidth"in C?C.offsetWidth===0?0:U/C.offsetWidth:0,be="offsetHeight"in C?C.offsetHeight===0?0:z/C.offsetHeight:0;if(G===C)D=i==="start"?O:i==="end"?O-f:i==="nearest"?ae(k,k+f,f,Q,Z,k+O,k+O+P,P):O-f/2,V=a==="start"?M:a==="center"?M-E/2:a==="end"?M-E:ae(l,l+E,E,J,Y,l+M,l+M+R,R),D=Math.max(0,D+k),V=Math.max(0,V+l);else{D=i==="start"?O-$-Q:i==="end"?O-pe+Z+te:i==="nearest"?ae($,pe,z,Q,Z+te,O,O+P,P):O-($+z/2)+te/2,V=a==="start"?M-q-J:a==="center"?M-(q+U/2)+ee/2:a==="end"?M-ue+Y+ee:ae(q,ue,U,J,Y+ee,M,M+R,R);let{scrollLeft:Ce,scrollTop:we}=C;D=Math.max(0,Math.min(we+D/be,C.scrollHeight-z/be+te)),V=Math.max(0,Math.min(Ce+V/Ie,C.scrollWidth-U/Ie+ee)),O+=we-D,M+=Ce-V}le.push({el:C,top:D,left:V})}return le};var et=e=>typeof e=="object"&&typeof e.behavior=="function",tt=e=>e===!1?{block:"end",inline:"nearest"}:(r=>r===Object(r)&&Object.keys(r).length!==0)(e)?e:{block:"start",inline:"nearest"};function Ne(e,r){if(!e.isConnected||!e.ownerDocument.documentElement.contains(e))return;if(et(r))return r.behavior(Re(e,r));let t=typeof r=="boolean"||r==null?void 0:r.behavior;for(let{el:o,top:s,left:n}of Re(e,tt(r)))o.scroll({top:s,left:n,behavior:t})}p();var ie=JSON.parse('{"searchResultsGroup":"searchResultsGroup_1WUmo","searchResultsGroupWithIcon":"searchResultsGroupWithIcon_sS6Xq","searchResultsGroupIcon":"searchResultsGroupIcon_GTLB4"}');p();var I=W(j());p();var v=JSON.parse('{"searchResultItem":"searchResultItem_p8cXr","searchResultItemNested":"searchResultItemNested_c68te","searchResultItemIconWrapper":"searchResultItemIconWrapper_9nhf7","searchResultNestedIcon":"searchResultNestedIcon_FXDYi","searchResultIcon":"searchResultIcon_Mak8U","searchResultTitle":"searchResultTitle_oejjj","searchResultSubtitle":"searchResultSubtitle_5zrSl","searchResultBody":"searchResultBody_C6kw1","searchResultBodyWithTitle":"searchResultBodyWithTitle_gAHks","searchResultBodyText":"searchResultBodyText_bfMRX","searchResultAction":"searchResultAction_4Kmeo","searchResultActionIcon":"searchResultActionIcon_dkZSk","searchResultActionText":"searchResultActionText_2EDdS","searchResultItemActive":"searchResultItemActive_Ih3Vm","searchResultItemDisabled":"searchResultItemDisabled_TTaLk"}');p();var N=W(j());p();var ye=JSON.parse('{"pressable":"pressable_nUrxI","withFocusRing":"withFocusRing_9WvnS"}');var Ke=N.forwardRef(function(r,t){let{style:o,onPress:s,disabled:n=!1,...c}=r,i=N.useContext(Te);return N.createElement(S,{ref:t,tabIndex:"0",role:"button",style:[o,{[ye.pressable]:!n,[ye.withFocusRing]:!n&&i.enabled}],...c,onClick:s})});var ze=I.forwardRef(function(r,t){let{title:o,subtitle:s,body:n,icon:c,active:i,disabled:a=!1,nested:g=!1,action:m,onHover:b,onSelect:G,onFocus:w}=r;return I.createElement(Ke,{ref:t,style:[v.searchResultItem,{[v.searchResultItemActive]:i,[v.searchResultItemNested]:g,[v.searchResultItemDisabled]:a}],onMouseEnter:b,onFocus:w,onPress:G},I.createElement(S,{style:v.searchResultItemIconWrapper},g?I.createElement(de.ArrowCurveDownRight.CSS,{style:v.searchResultNestedIcon}):null,I.createElement(S,null,I.createElement(c,{compatibilitySize:ne.ICON_XS,style:v.searchResultIcon}))),I.createElement(S,{style:[y.flex.column,y.flex.flex1]},o?I.createElement(S,null,I.createElement(_,{style:v.searchResultTitle},I.createElement(se,{value:o}))):null,s?I.createElement(S,null,I.createElement(_,{style:v.searchResultSubtitle},I.createElement(se,{value:s}))):null,n?I.createElement(S,{style:[v.searchResultBody,{[v.searchResultBodyWithTitle]:!!o}]},I.createElement(_,{style:[v.searchResultBodyText]},I.createElement(se,{value:n,maxLength:280}))):null),i?I.createElement(S,{style:[v.searchResultAction]},I.createElement(de.ArrowEnter.CSS,{style:v.searchResultActionIcon}),I.createElement(_,{style:v.searchResultActionText},m)):null)});p();var H=W(j());function rt(e){if(typeof e.key!="string")throw new Error("Need a key getter");return e.key}function $e(e){let{items:r,scrollTo:t,onSelect:o,onOpen:s,onClose:n,getKey:c=rt,active:i=!0,startAtFirst:a}=e,[g,m]=(0,H.useState)(null),b=Ae(),G=(typeof a>"u"?b.current:a)||!1,w=(0,H.useMemo)(()=>ot(r,g,c,G),[r,g,c,G]),h=he(w),E=he(r),f=(0,H.useCallback)(R=>{let u=c(R);return{index:E.current.findIndex(A=>c(A)===u)}},[c]),l=(0,H.useCallback)(R=>m(c(R)),[m,c]),k=(0,H.useCallback)(R=>{b.current||l(R)},[l]),P=(0,H.useCallback)(R=>{if(R>0&&h.current.next){let{next:u}=h.current;l(u),t(u)}else if(R<0&&h.current.prev){let{prev:u}=h.current;l(u),t(u)}},[t,l]);return(0,H.useEffect)(()=>{if(!i)return;let R=u=>{u.key==="Enter"&&o?(u.preventDefault(),u.stopPropagation(),h.current.current&&o(h.current.current,f(h.current.current))):u.key==="ArrowRight"&&Ue(u,"end")?(u.preventDefault(),u.stopPropagation(),h.current.current?s==null||s(h.current.current,f(h.current.current)):P(1)):u.key==="ArrowLeft"&&n&&Ue(u,"start")?(u.preventDefault(),u.stopPropagation(),n()):u.key==="ArrowDown"?(u.preventDefault(),u.stopPropagation(),P(1)):u.key==="ArrowUp"&&(u.preventDefault(),u.stopPropagation(),P(-1))};return document.addEventListener("keydown",R,{capture:!0}),()=>{document.removeEventListener("keydown",R,{capture:!0})}},[P,o,s,n,f,i]),{cursor:w,setCursor:l,hoverItem:k}}function ot(e,r,t,o){let s=null,n=null,c=null;return e.some(i=>(t(i)===r?c=i:c?c&&!n&&(n=i):s=i,c!=null&&n!=null)),c||(o?(s=null,c=e[0],n=e[1]):(s=null,c=null,n=e[0])),{prev:s,next:n,current:c}}function Ue(e,r){let t=e.target;if(!t)return!0;let o=t.selectionStart;if(o==null)return!0;let s=t.selectionEnd;if(o!==s)return!1;if(r==="start")return o===0;let n=t.value.length;return o===n}function Sr(e){let{data:r,renderItem:t,renderGroup:o,groupItem:s,getGroupKey:n,getKey:c,onOpen:i,style:a,allowEnterToOpen:g=!0}=e,m=x.useRef({}),b=x.useMemo(()=>nt(r,s,n),[r,s,n]),G=x.useCallback(async(f,l)=>{let{index:k}=l;t(f.item).disabled||i(f.item,k)},[i]),w=x.useCallback(f=>{let l=m.current[c(f.item)];l&&Ne(l,{behavior:"smooth",scrollMode:"if-needed"})},[m]),h=_e(),E=$e({active:!0,startAtFirst:!h.current,items:b,onSelect:g?G:void 0,scrollTo:w,getKey:f=>c(f.item)});return x.createElement(S,{style:[y.flex.column,y.flex.flex1,a]},b.map((f,l)=>{let k=b[l-1],P=k==null?void 0:k.group,R=c(f.item),u=t(f.item),L=null;if(n&&n(f.group)!==n(P)){let T=o==null?void 0:o(f.group);T&&(L=x.createElement(S,{ref:A=>{m.current[R]=A},style:[y.flex.row,y.padding.xsmallVertical,ie.searchResultsGroup,{[ie.searchResultsGroupWithIcon]:!!T.icon},l>0?y.padding.mediumTop:null]},T.icon?x.createElement(T.icon,{compatibilitySize:ne.ICON_L,style:ie.searchResultsGroupIcon}):null,x.createElement(_,{style:[y.text.label,y.text.weightBold,y.textColor.mid,T!=null&&T.icon?y.margin.smallLeft:null]},T.title)))}return x.createElement(x.Fragment,{key:R},L,x.createElement(ze,{ref:L?void 0:T=>{m.current[R]=T},...u,active:!!E.cursor.current&&R===c(E.cursor.current.item),onHover:()=>{E.hoverItem(f)},onFocus:()=>{E.setCursor(f)},onSelect:()=>{u.disabled||i(f.item,l)}}))}))}function nt(e,r,t){if(!r||!t)return e.map(s=>({group:void 0,item:s}));let o=[];return e.forEach(s=>{let n=r(s),c=o.find(i=>t(i[0].group)===t(n));if(c){c.push({item:s,group:n});return}o.push([{group:n,item:s}])}),o.flat()}p();function qe(e,r){let t=[],o=[];if(e.forEach((s,n)=>{try{let c=r(s,n);o.push(c)}catch(c){if(c instanceof Promise){t.push(c);return}throw c}}),t.length>0)throw Promise.all(t);return o}p();var Qe=W(j());function _r(e,r={}){let t=Me.read(e);return Qe.useMemo(()=>st(t,r),[t])}function st(e,r={}){let t=qe(e,a=>ct(a,r)),o=[],s=new Set,n=new Map,c=a=>{let g=a[a.length-1];if(!g)return null;let m=n.get(Je(g));return m===void 0?c(a.slice(0,-1)):m},i=a=>{if(s.has(a.key)){let m=o.findIndex(b=>b.key===a.key);o.splice(m,1,a);return}s.add(a.key);let g=c(a.groups)||o.length;o.splice(g,0,a),a.groups.forEach(m=>{let b=Je(m);n.set(b,Math.max(g+1,n.get(b)||0))}),n.forEach((m,b)=>{m>g&&n.set(b,m+1)})};return t.forEach(a=>{if(a)switch(a.type){case"page":case"collection":case"space":{i(a);break}case"section":{c([a.groups[a.groups.length-1]])===null&&i(at(a.space,a.revision,a.page)),i(a);break}default:ve(a)}}),o}function ct(e,r={}){switch(e.index){case"spaces":{let t=r.getContentOwner?r.getContentOwner(e.object):null;return{type:"space",key:`space:${e.object.objectID}`,title:e.object._highlightResult.title.value||e.object.title,space:e.object,groups:t?[t]:[]}}case"collections":{let t=r.getContentOwner?r.getContentOwner(e.object):null;return{type:"collection",key:`collection:${e.object.objectID}`,title:e.object._highlightResult.title.value||e.object.title,collection:e.object,groups:t?[t]:[]}}case"pages":{let t=Xe(e.object.space,e.object.page);return t?{type:"page",key:`page:${t.space.key}:${t.page.key}`,title:e.object._highlightResult.title.value||e.object.title,path:oe(t.revision,t.page.key),space:t.space,revision:t.revision,page:t.page,ancestors:re(t.revision,t.page.key),groups:Se(t.space,t.revision,t.page)}:null}case"sections":{let t=Xe(e.object.space,e.object.page);return t?{type:"section",key:`section:${e.object.objectID}`,title:e.object.title,body:e.object._highlightResult.body.value||e.object.body,space:t.space,revision:t.revision,page:t.page,path:oe(t.revision,t.page.key),anchor:e.object.anchor,groups:[...Se(t.space,t.revision,t.page),{type:"page",space:t.space,page:t.page}]}:null}default:throw new Error(`Unknown search entry type: ${e.index}`)}}function at(e,r,t){return{type:"page",key:`page:${e.key}:${t.key}`,title:t.title,path:oe(r,t.key),space:e,revision:r,page:t,ancestors:re(r,t.key),groups:Se(e,r,t)}}function Xe(e,r){var n,c;let t=(n=Oe([xe(e)])[0])==null?void 0:n.result,o=t?(c=He([{space:t.key,revision:t.revision}])[0])==null?void 0:c.result:null,s=o?o.pages[r]:null;return!s||!t||!o?null:{space:t,revision:o,page:s}}function Se(e,r,t){var n;let o=re(r,t.key),s=((n=o[0])==null?void 0:n.kind)==="group"?o[0]:null;return[{type:"space",space:e},...s?[{type:"page",space:e,page:s}]:[]]}function Je(e){switch(e.type){case"user":return`user:${e.user.uid}`;case"organization":return`organization:${e.organization.key}`;case"space":return`space:${e.space.key}`;case"page":return`page:${e.space.key}:${e.page.key}`}}export{je as a,ht as b,Ae as c,Ne as d,$e as e,Et as f,Ke as g,Sr as h,qe as i,_r as j};
//# sourceMappingURL=https://app.gitbook.com/public/app/chunks/chunk-TMMNLURX.min.js.map
