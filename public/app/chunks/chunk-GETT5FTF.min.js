import{c as N,f as E}from"https://app.gitbook.com/public/app/chunks/chunk-4TNLUS2C.min.js";import{a as F}from"https://app.gitbook.com/public/app/chunks/chunk-3UXFXPX4.min.js";import{a as ie,f as q}from"https://app.gitbook.com/public/app/chunks/chunk-JNUJ225D.min.js";import{Y as _,i as V,y as G}from"https://app.gitbook.com/public/app/chunks/chunk-TI5JEI7I.min.js";import{Yb as H,bb as M,ea as D,fa as B,jc as S,lc as W,mc as K}from"https://app.gitbook.com/public/app/chunks/chunk-4WQJWWQB.min.js";import{Ca as w,D as L,Da as p,H as U,O as A,aa as k,ba as R,ca as d,p as T,s as z,x as h,za as b}from"https://app.gitbook.com/public/app/chunks/chunk-A6UFY6RP.min.js";import{e as v,l as a}from"https://app.gitbook.com/public/app/chunks/chunk-OAKVUAEN.min.js";a();var re=["admin","create","review","edit","comment","read"],se={"view-space":re,"create-space":["admin","create"],"edit-space-details":["admin","create"],"edit-space-content":["admin","create","review","edit"],"delete-space":["admin","create"],"duplicate-space":["admin","create"],"post-comment":["admin","create","review","edit","comment"],"view-space-insights":["admin","create"],"view-space-activities":["admin"],"view-change-request":["admin","create","review","edit"],"merge-change-request":["admin","create","review"],"create-collection":["admin","create"],"edit-collection-content":["admin","create","review","edit"],"delete-collection":["admin","create"],"edit-permissions":["admin","create"],"view-permissions":["admin","create"],"organize-content":["admin","create"],"configure-gitsync":["admin","create"],"publish-content":["admin","create"]};function ye(e,t){let n=typeof e=="string"?e:e?e.level:null;return se[t].includes(n)}var ae={"add-guests":["admin"],"view-org":["admin"],"admin-profile":["admin"],"admin-billing":["admin"],"view-invite-links":["admin"],"view-member-permissions":["admin"],"admin-integrations":["admin","create"]};function xe(e,t){let n=typeof e=="string"?e:e?e.role:null;return ae[t].includes(n)}a();var u=v(T());A();a();var J=u.createContext({direction:"horizontal",size:"medium"});function le(e){let{direction:t="horizontal",size:n="medium",children:o,style:i}=e;return u.createElement(h,{style:[t==="horizontal"?[d.directionRow,d.alignEnd]:[d.directionColumn],i]},u.createElement(J.Provider,{value:{direction:t,size:n}},o))}function ce(e){let{testID:t,icon:n,children:o,disabled:i,onPress:r,active:l=!1,badge:c,...m}=e,{direction:s,size:y}=u.useContext(J),[,g]=b(de),[,C]=b(w),x;return c!=null&&(x=({style:P})=>u.createElement(F,{size:"small",style:P,kind:l?"primary":"secondary"},c)),u.createElement(_,{size:"medium",icon:n,rightIcon:x,testID:t,onPress:r,active:l,disabled:i,style:[g.default,R.Padding.small,s==="horizontal"?g.defaultHorizontal:g.defaultVertical,s==="horizontal"?d.justifyContentCenter:d.justifyContentStart,s==="horizontal"?R.Margin.smallRight:R.Margin.smallBottom,y==="large"?R.Padding.largeVertical:null],defaultTextStyle:y==="large"?[C.text,C.Heading3]:[C.textMid,C.Label],disabledTextStyle:C.textMuted,hoveredStyle:[s==="horizontal"?g.hoveredHorizontal:g.hoveredVertical],hoveredTextStyle:[C.textStandout],activeStyle:[s==="horizontal"?g.activeHorizontal:g.activeVertical],activeTextStyle:C.primary,alignItems:s==="horizontal"?"center":"start",...m},u.createElement(h,null,u.createElement(L,null,o)))}le.Tab=ce;var de=p.create({default:{borderWidth:0,height:"auto"},defaultHorizontal:e=>({borderBottomWidth:2,borderBottomColor:"transparent",borderRadius:0}),hoveredHorizontal:e=>({backgroundColor:e.colors.background.main}),activeHorizontal:e=>({borderBottomWidth:2,borderBottomColor:e.colors.standout.main,borderRadius:0}),defaultVertical:e=>({}),hoveredVertical:e=>({backgroundColor:e.colors.background.muted}),activeVertical:e=>({backgroundColor:e.colors.primary.muted})});a();a();var Q=v(ie());a();var I=new Map;function $(e,t="1f4d2"){let n=e.toLowerCase().match(/\w+/g);if(!n)return t;let o=0,i=t;return n.forEach(r=>{let l=me(r);l&&l.score>o&&(o=l.score,i=l.emoji.code)}),i}function me(e){if(I.has(e))return I.get(e);let t=ue(e);return I.set(e,t),t}function ue(e){let t=null;for(let n of N)for(let o of[...n.name.split(" "),...n.keywords]){if(!o)continue;let i=fe(e,o);if((!t&&i>-1||t&&i>t.score)&&(t={score:i,emoji:n}),t&&t.score===1)return t}return t}function fe(e,t){let n=e,o=t;e.length<t.length&&(n=t,o=e);let i=n.length;return i===0?1:(i-pe(n,o))/i}function pe(e,t){e=e.toLowerCase(),t=t.toLowerCase();let n=[];for(let o=0;o<=e.length;o++){let i=o;for(let r=0;r<=t.length;r++)if(o===0)n[r]=r;else if(r>0){let l=n[r-1];e.charAt(o-1)!==t.charAt(r-1)&&(l=Math.min(Math.min(l,i),n[r])+1),n[r-1]=i,i=l}o>0&&(n[t.length]=i)}return n[t.length]}var Y=["2712","1f58b","1f58a","270d","270f","1f4dd","1f58c","1f58d","1f3a8","1f4d5","1f4d7","1f4d8","1f4d9","1f4da","1f4d3","1f4d4","1f4d2","1f4d6","1f4c1","1f4c2","1f4cb","1f4c3","1f4c4","1f4ca","1f4c8","1f4c9","1f50f","1f4bb","1f4a1","1f4cc","2728"];function ge(e){if("emoji"in e&&e.emoji)return e.emoji;let t="key"in e?e.key:e.objectID,n=(0,Q.default)(t),o=Y[n%Y.length];return e.title?$(e.title,o):o}function X(e,t){if(t==="public-content"){if("publishedIconURL"in e&&e.publishedIconURL)return{iconURL:e.publishedIconURL,emoji:void 0};if("publishedEmoji"in e&&e.publishedEmoji)return{emoji:e.publishedEmoji,iconURL:void 0}}return"iconURL"in e&&e.iconURL?{iconURL:e.iconURL,emoji:void 0}:"emoji"in e&&e.emoji?{emoji:e.emoji,iconURL:void 0}:{emoji:t==="public-content"?void 0:ge(e),iconURL:void 0}}a();var O=v(T());a();var Z=v(T());a();A();function j(e,t){if(z.OS==="web")if(t!=null&&t.sameWebTab)window.location.href=e;else{let n=window.open(e,"_blank");n&&n.focus()}else U.openURL(e)}function Xe(e){j(e)}function ee(){return Z.useCallback((e,t)=>({onPress:n=>{n.isDefaultPrevented()||!e||(n.preventDefault(),j(e,{sameWebTab:n.nativeEvent.metaKey||n.nativeEvent.ctrlKey||t}))},href:e,target:t?void 0:"_blank"}),[])}var at=O.forwardRef(function(t,n){let{url:o,kind:i="default",sameWebTab:r=!1,children:l,onPress:c,style:m,...s}=t,y=ee(),{onPress:g,...C}=y(o,r),[,x]=b(Ce[i]);return O.createElement(V.Text,{ref:n,...s,...C,onPress:P=>{c&&c(P),g(P)},style:[x.link,m],activeStyle:x.linkHovered},l)}),Ce={default:p.create({link:e=>({color:e.colors.primary.main}),linkHovered:e=>({color:e.colors.primary.standout})}),"in-text":p.create({link:e=>({textDecorationLine:"underline",color:e.colors.primary.main}),linkHovered:e=>({color:e.colors.primary.standout})}),"in-text-muted":p.create({link:e=>({textDecorationLine:"underline",color:e.colors.text.main}),linkHovered:e=>({color:e.colors.primary.standout})}),blank:p.create({link:e=>({color:e.colors.text.main}),linkHovered:e=>({color:e.colors.primary.main})}),bold:p.create({link:e=>({color:e.colors.text.main}),linkHovered:e=>({color:e.colors.text.standout})})};function xt(e){let t=W(),n=S(),o=H.getCacheState(e),i=t&&(o!=null&&o.result)&&n.updatedAt?be(o==null?void 0:o.result,t.uid,n.updatedAt):null;return M(e)?n.permissions.spaces[e.id]||i:n.permissions.collections[e.id]||i}function vt(e){var o;let t=K(),n=S();return e.collection?n.permissions.collections[e.collection]:e.user?t.uid===e.user?"admin":null:e.organization&&((o=n.permissions.organizations[e.organization])==null?void 0:o.role)||null}function Rt(e,t={}){let n=S(),o=c=>B(e,c,t)?e.collection||!c.collection?!0:t.includeOrphans?n.collections.every(s=>s.key!==c.collection):!1:!1,[i,r]=n.spaces.reduce(([c,m],s)=>o(s)?("private"in s&&typeof s.private=="boolean"?s.private:!1)?[c,[...m,s]]:[[...c,s],m]:[c,m],[[],[]]),l=n.collections.filter(o);return{spaces:i,privateSpaces:r,collections:l}}function St(e){let t=S(),n=r=>D(r,e,!1),o=t.spaces.filter(n),i=t.collections.filter(n);return{spaces:o,collections:i}}function be(e,t,n){let o=e.createdAt.toMillis(),i=n.toMillis();return e.createdBy===t&&(o>i||Math.abs(o-Date.now())<12e4)?"admin":null}a();var f=v(T());A();var te=2;function Ut(e){let{content:t,renderFor:n,size:o=k.S,style:i,withBackground:r=!0}=e,l=ne(o,r),[,c]=b(oe),{iconURL:m,emoji:s}=X(t,n);return f.createElement(h,{style:[d.directionRow,d.alignCenter,d.justifyContentCenter,{width:o,height:o,overflow:"hidden"},c.wrapper,m||!r?null:c.iconWithBackground,i]},m?f.createElement(G,{source:{uri:q(m,{width:o,height:o,fit:"contain"})},style:[c.image,d.flex1]}):s&&l>0?f.createElement(f.Fragment,null,f.createElement(E,{code:s,size:o*te,style:c.backgroundEmoji}),f.createElement(E,{code:s,size:l})):l>0?f.createElement(he,{content:t,size:o}):null)}function he(e){let[,t]=b(w),[,n]=b(oe);return f.createElement(h,{style:[n.fallback,{width:e.size,height:e.size},d.alignCenter,d.justifyContentCenter]},f.createElement(L,{style:[t.text,{fontSize:ne(e.size,!0)}]},e.content.title.slice(0,1)))}function ne(e,t){return e<k.ICON_S?0:t?e*.7:e}var oe=p.create({image:{width:"100%",height:"100%",objectFit:"contain"},wrapper:{borderRadius:k.RADIUS_M},iconWithBackground:(e,t)=>({backgroundColor:t.color==="dark"?e.colors.background.muted:e.colors.background.main,boxShadow:t.color==="dark"?"0px 0px 1px rgb(255 255 255 / 30%)":"inset 0px 0px 1px rgb(0 0 0 / 30%)"}),backgroundEmoji:(e,t)=>({position:"absolute",opacity:t.color==="dark"?.05:.2,filter:`blur(${te*8}px) contrast(110%) hue-rotate(10deg) brightness(1.2) saturate(1.2)`}),fallback:e=>({})});export{ye as a,xe as b,ge as c,X as d,j as e,Xe as f,at as g,le as h,xt as i,vt as j,Rt as k,St as l,Ut as m};
//# sourceMappingURL=https://app.gitbook.com/public/app/chunks/chunk-GETT5FTF.min.js.map
